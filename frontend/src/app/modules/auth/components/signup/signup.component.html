<div class="container">
    <mat-card>
        <mat-card-title>Sign Up</mat-card-title>
        
        <mat-card-content>
            <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">

               
                <!-- Profile Image Upload with Preview -->
                <div class="file-input-container">
                    <label for="file-upload" class="profile-image-label">
                        <div class="profile-image" [style.backgroundImage]="imageSrc ? 'url(' + imageSrc + ')' : ''">
                            <span *ngIf="!imageSrc" class="placeholder">+</span>
                        </div>
                    </label>
                    <input type="file" id="file-upload" (change)="onFileSelected($event)" hidden accept="image/*">
                    <mat-error *ngIf="imageError">Please select a valid image file.</mat-error>
                </div>
                
             
                <div class="name-container">
                    <mat-form-field appearance="outline" class="half-width">
                        <mat-label>First Name</mat-label>
                        <input matInput formControlName="firstName" placeholder="First Name" required>
                        <mat-error *ngIf="signupForm.get('firstName')?.invalid && signupForm.get('firstName')?.touched">
                            Please enter a valid first name.
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="half-width">
                        <mat-label>Last Name</mat-label>
                        <input matInput formControlName="lastName" placeholder="Last Name" required>
                        <mat-error *ngIf="signupForm.get('lastName')?.invalid && signupForm.get('lastName')?.touched">
                            Please enter a valid last name.
                        </mat-error>
                    </mat-form-field>
                </div>

               
                <mat-form-field appearance="outline">
                    <mat-label>Email</mat-label>
                    <input matInput formControlName="email" placeholder="Email" required>
                    <mat-error *ngIf="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
                        Please enter a valid email.
                    </mat-error>
                </mat-form-field>
                
             
                <mat-form-field appearance="outline">
                    <mat-label>Password</mat-label>
                    <input matInput [type]="hidePassword ? 'password' : 'text'" formControlName="password" placeholder="Password" required>
                    <button mat-icon-button matSuffix type="button" (click)="togglePasswordVisibility()">
                        <mat-icon>{{ hidePassword ? 'visibility_off' : 'visibility' }}</mat-icon>
                    </button>
                    <mat-error *ngIf="signupForm.get('password')?.hasError('required')">
                        Password is required.
                      </mat-error>
                      <mat-error *ngIf="signupForm.get('password')?.hasError('passwordWeak')">
                          Password must contain only letters and numbers with at least 8 characters.
                        </mat-error>      
                </mat-form-field>

                <!-- Confirm Password -->
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Confirm Password</mat-label>
                    <input
                    matInput
                    type="password"
                    formControlName="confirmPassword"
                    placeholder="Confirm your password"
                    />
                    <mat-error *ngIf="signupForm.get('confirmPassword')?.hasError('required')">
                    Please confirm your password.
                    </mat-error>
                    <mat-error *ngIf="signupForm.get('confirmPassword')?.hasError('passwordMismatch')">
                    Passwords do not match.
                    </mat-error>
                </mat-form-field>
        

                
                <mat-form-field appearance="outline">
                    <mat-label>Contact</mat-label>
                    <input matInput formControlName="contact" placeholder="Phone or Contact Number" required>
                    <mat-error *ngIf="signupForm.get('contact')?.invalid && signupForm.get('contact')?.touched">
                        Please enter a valid contact number.
                    </mat-error>
                </mat-form-field>

            
                <button mat-raised-button color="primary" type="submit" [disabled]="signupForm.invalid" class="large-btn">Sign Up</button>
                
            </form>
        </mat-card-content>
    </mat-card>
</div>
